<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Endless Runner Game</title>
    <style>
        canvas {
            border: 1px solid #000;
            display: block;
            margin: 20px auto;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="400"></canvas>

    <script>
        // Game variables
        var canvas = document.getElementById("gameCanvas");
        var ctx = canvas.getContext("2d");
        var player = { x: 50, y: canvas.height - 30, width: 30, height: 30, color: "#00F" };
        var obstacles = [];
        var speed = 2;
        var score = 0;

        // Update game state
        function update() {
            // Move obstacles
            for (var i = 0; i < obstacles.length; i++) {
                obstacles[i].y += speed;
                
                // Check for collision with player
                if (
                    player.x < obstacles[i].x + obstacles[i].width &&
                    player.x + player.width > obstacles[i].x &&
                    player.y < obstacles[i].y + obstacles[i].height &&
                    player.y + player.height > obstacles[i].y
                ) {
                    // Game over
                    alert("Game Over! Your score: " + score);
                    resetGame();
                }
                
                // Remove off-screen obstacles
                if (obstacles[i].y > canvas.height) {
                    obstacles.splice(i, 1);
                    score++;
                }
            }

            // Increase speed over time
            if (score % 10 === 0 && speed < 10) {
                speed += 0.5;
            }

            // Update score
            document.getElementById("score").innerText = "Score: " + score;

            // Request next animation frame
            requestAnimationFrame(update);
        }

        // Draw everything
        function draw() {
            // Clear the canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw player
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x, player.y, player.width, player.height);

            // Draw obstacles
            ctx.fillStyle = "#F00";
            for (var i = 0; i < obstacles.length; i++) {
                ctx.fillRect(obstacles[i].x, obstacles[i].y, obstacles[i].width, obstacles[i].height);
            }
        }

        // Generate a new obstacle
        function generateObstacle() {
            var obstacleWidth = Math.floor(Math.random() * (50 - 20 + 1)) + 20;
            var obstacleX = Math.floor(Math.random() * (canvas.width - obstacleWidth));
            var obstacle = { x: obstacleX, y: 0, width: obstacleWidth, height: 20 };
            obstacles.push(obstacle);
        }

        // Handle keyboard input
        function handleKeyPress(e) {
            if (e.key === "ArrowLeft" && player.x > 0) {
                player.x -= 10;
            } else if (e.key === "ArrowRight" && player.x < canvas.width - player.width) {
                player.x += 10;
            }
        }

        // Reset the game
        function resetGame() {
            obstacles = [];
            speed = 2;
            score = 0;
        }

        // Initialize the game
        window.addEventListener("keydown", handleKeyPress);
        setInterval(generateObstacle, 1500);
        update();
        draw();
    </script>
</body>
</html>
